<!DOCTYPE html>
<html lang="en" xmlns:th = "http://www.thymeleaf.org" xmlns:layout="http://ultraq.net.nz/thymeleaf/layout" layout:decorator="layout/main.html">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <script src="https://kit.fontawesome.com/cb41621c2c.js" crossorigin="anonymous"></script>
    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">

    <title>Search Page</title>
</head>
<body>
<div class="container-fluid" th:insert="~{layout/navbar}">

</div>
<div class="container mt-4" layout:fragment="site_content" >
    <div class="row">
        <div class="col-3 pl-0">
            <div class="card" style="width:100%">
                <div class="card-header text-white" style="background-color: #156145" th:text="#{label.category}">
                </div>
                <ul class="list-group list-group-flush mx-auto">
                    <li class="list-group-item"><i class="fas fa-shopping-cart"><span class="pl-2" th:text="#{label.AllItems}"></span></i></li>
                    <li class="list-group-item"><i class="fas fa-mobile-alt"><span class="pl-2" th:text="#{label.Phones}+', '+#{label.Gadgets}"></span></i></li>
                    <li class="list-group-item"><i class="fas fa-tv"><span class="pl-2" th:text="#{label.Televisions}+', '+#{label.Audio}+', '+#{label.Video}"></span></i></li>
                    <li class="list-group-item"><i class="fas fa-gamepad"><span class="pl-2" th:text="#{label.ForGamers}"></span></i></li>
                    <li class="list-group-item"><i class="fas fa-dolly-flatbed"><span class="pl-2" th:text="#{label.Other}"></span></i></li>
                </ul>
            </div>
<!--            <div class="card mt-4" style="width:100%">-->
<!--                <div class="card-header text-white" style="background-color: #156145" th:text="#{label.brand}"></div>-->
<!--                <ul class="list-group list-group-flush" th:each="b:${brands}">-->
<!--                    <li class="list-group-item"><a th:href="@{'/detailed_search?'+${'search_brand='}+${b.getName()}}" th:text="${b.getName()}"></a></li>-->
<!--                </ul>-->
<!--            </div>-->
<!--            <div class="card mt-4" style="width:100%">-->
<!--                <div class="card-header text-white" style="background-color: #156145" th:text="#{label.payment}">-->
<!--                </div>-->
<!--                <ul class="list-group list-group-flush mx-auto">-->
<!--                    <li class="list-group-item"><i class="fas fa-shopping-cart"><span class="pl-2" th:text="#{label.AllItems}"></span></i></li>-->
<!--                    <li class="list-group-item"><i class="fas fa-mobile-alt"><span class="pl-2" th:text="#{label.Phones}+', '+#{label.Gadgets}"></span></i></li>-->
<!--                    <li class="list-group-item"><i class="fas fa-tv"><span class="pl-2" th:text="#{label.Televisions}+', '+#{label.Audio}+', '+#{label.Video}"></span></i></li>-->
<!--                    <li class="list-group-item"><i class="fas fa-gamepad"><span class="pl-2" th:text="#{label.ForGamers}"></span></i></li>-->
<!--                    <li class="list-group-item"><i class="fas fa-dolly-flatbed"><span class="pl-2" th:text="#{label.Other}"></span></i></li>-->
<!--                </ul>-->
<!--            </div>-->
        </div>
        <div class="col-9">
            <form th:action="@{'/detailed_search'}" method="get" class="form-inline col-12 pl-0 pr-0 mb-3 justify-content-between">
                <input type="text" class="form-control col-2" name="name" th:placeholder="#{label.searchEnter}">
<!--                <label>-->
<!--                    <select class="form-control col-2" name="brand"  th:each="b:${brands}">-->
<!--                        <option th:text="${b.getName()}"></option>-->
<!--                    </select>-->
<!--                </label>-->
                <input type="text" name="brand" class="form-control col-2" th:placeholder="#{label.brand}" th:value="${brand}">
                <input type="text" class="form-control col-2" name="price_from" th:placeholder="#{label.priceFrom}" >
                <input type="text" class="form-control col-2" name="price_to" th:placeholder="#{label.priceTo}" >
                <button  class="col-2 btn text-white" name="btn" value="btn_search" style="background-color: #156145" th:text="#{button.search}"></button>

            <div class="col-12 pl-0 pr-0 mb-3 mt-3 form-inline justify-content-between">
                <h3 th:text="#{label.result}">:</h3>
<!--                <form th:action="@{'/detailed_search'}" method="get" class="col-3 pr-0">-->
                    <div class=" btn-group btn-group-toggle float-right" data-toggle="buttons">
                        <button type="submit" name="options" class="btn btn-secondary active" value="asc" id="option1" checked th:text="#{button.asc}"></button>
                        <button type="submit" name="options" class="btn btn-secondary" value="desc" id="option2" th:text="#{button.desc}"></button>
                    </div>
<!--                </form>-->
            </div>
            </form>
            <div class="oldItems mt-4">
                <div class="card-deck">
                    <div class="card mb-3" th:each="it:${founded_items}" style="max-width:254px;min-width: 220px">
                        <img th:src="${it.getSmall_picture_url()}" class="card-img-top" alt="...">
                        <div class="card-body">
                            <a th:href="@{'/details/'+${it.getId()}}"><h5 class="card-title" th:text="${it.getName()}"></h5></a>
                            <h5 class="card-title" th:text="${it.getPrice()}"></h5>
                            <p class="card-text" th:text="${it.getDescription()}"></p>
                            <a th:href="@{'/detailed_search?'+${'search_brand='}+${it.getBrand().getName()}}"><p class="card-text strong" th:text="${it.getBrand().getName()}"></p></a>
                        </div>
                        <div class="card-footer">
                            <small class="text-muted"  th:if="${it.getStars()==5}" th:each="i:${#numbers.sequence(0,4)}"><i class="fas fa-star"></i></small>
                            <small class="text-muted"  th:if="${it.getStars()==4}" th:each="i:${#numbers.sequence(0,3)}"><i class="fas fa-star"></i></small>
                            <small class="text-muted"  th:if="${it.getStars()==3}" th:each="i:${#numbers.sequence(0,2)}"><i class="fas fa-star"></i></small>
                            <small class="text-muted"  th:if="${it.getStars()==2}" th:each="i:${#numbers.sequence(0,1)}"><i class="fas fa-star"></i></small>
                            <small class="text-muted"  th:if="${it.getStars()==1}" th:each="i:${#numbers.sequence(0,0)}"><i class="fas fa-star"></i></small>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ho+j7jyWK8fNQe+A12Hb8AhRq26LrZ/JpcUGGOn+Y7RsweNrtN/tE3MoK7ZeZDyx" crossorigin="anonymous"></script>
</body>
</html>